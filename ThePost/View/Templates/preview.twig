{% extends "index.twig" %}

    {% block styles %}
        {% if authentication.login %}
            <link rel="stylesheet" href="/ThePost/View/Templates/css/style-summernote.css"/>
        {% else %}
            <link rel="stylesheet" href="/ThePost/View/Templates/css/style.css"/>
        {% endif %}
    {% endblock %}

{% block main %}

    <div class="alert alert-danger hidden" id="crud-error" role="alert">
        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
        <span class="sr-only">Error:</span>
    </div>

    {% if entry.id is defined %}
<article class="element entry clearfix" id="entry-{{ entry.id }}">
    {% else %}
    <article class="element entry clearfix" id="entry-0">
        {% endif %}

        {% if authentication.login %}
            <header class="clearfix">
                <a href="/edit/entry/{{ entry.id }}" class="btn btn-default pull-left" role="button">
                    <span class="glyphicon glyphicon-pencil"></span>
                    <span class="update"> Edit</span>
                </a>
                <button class="update btn btn-danger pull-right" onclick="areYouSure()">
                    <span class="glyphicon glyphicon-trash"></span>
                    <span class="update"> Delete</span>
                </button>
            </header>
            <header id="sureHeader" class="clearfix">
                <div hidden class="alert alert-warning" id="sureDiv" role="alert">
            <span>
                <p>Are you sure you want to delete this entry?</p>
            </span>
                <span class="clearfix">
                    <div class="btn-group" role="group" aria-label="...">
                        <button class="update btn btn-default " onclick="notSure()">
                            <span class="update"> No</span>
                        </button>
                        <button class="update btn btn-success" onclick="deleteEntry({{ entry.id }})">
                            <span class="glyphicon glyphicon-trash"></span>
                            <span class="update"> Yes</span>
                        </button>
                    </div>
                    </span>
            </header>
            {# glyphicon-floppy-open #}
        {% else %}
        {% endif %}

        <h2 class="title">{{ entry.title }}</h2>

        <div class="text">{{ entry.content|raw }}</div>
        <date class="pull-right">{{ entry.timestamp|date }}</date>

    </article>

    {% endblock %}

    {% block scripts %}
    <script src="/ThePost/View/Templates/js/upload.js"></script>
    <script src="/ThePost/View/Templates/js/summernote.min.js"></script>
    <script>
        $(document).ready(function () {
            $('.summernote').summernote().code('{{ entry.content|raw }}');
        });
    </script>
{% endblock %}